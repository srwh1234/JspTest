<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>

    <!-- 套件 -->
    <!-- boostrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet" />

    <!-- MDB -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.3.0/mdb.min.css" rel="stylesheet" />

    <!-- itinerary.css -->
    <link rel="stylesheet" type="text/css" href="css/itinerary.css">

    <!-- soft table -->
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.4/css/jquery.dataTables.css" />

    <!-- slick -->
    <link rel="stylesheet" type="text/css" href="slick/slick.css" />
    <link rel="stylesheet" type="text/css" href="slick/slick-theme.css" />

    <!-- jay's -->
    <!-- css files -->
    <link href="css/bootstrap.css" rel="stylesheet" type="text/css" />
    <!-- bootstrap css -->
    <link href="css/style.css" rel="stylesheet" type="text/css" />
    <!-- custom css -->
    <link href="css/fontawesome-all.css" rel="stylesheet" />
    <!-- fontawesome css -->
    <!-- //css files -->

    <!-- google fonts -->
    <!-- 載入字體 -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC&display=swap" rel="stylesheet" />
    <!-- //google fonts -->

    <!-- 載入icon -->
    <link rel="shortcut icon" href="./images/icon.png" />
    <link rel="bookmark" href="./images/icon.png" />

    <!-- yen -->
    <!--jQuery-->
    <!-- <link href="https://code.jquery.com/ui/1.10.4/themes/ui-lightness/jquery-ui.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
    <script src="https://code.jquery.com/ui/1.10.4/jquery-ui.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
        crossorigin="anonymous"></script> -->
    <!--會員登入-->
    <link href="css/login.css" rel="stylesheet" />

    <style>
        .basic {
            font-size: 20px;
        }
    </style>


</head>

<body>
    <!-- ===== 導覽列 ===== -->
    <!-- header -->
    <header>
        <div class="container" style="padding-right: 0px">
            <!-- nav -->
            <nav class="py-md-4 py-3">
                <div id="logo">
                    <h1 class="mt-md-0 mt-2">
                        <a href="index.html"><img src="./images/icon.png" class="icon_triplight" />
                            TripLight
                        </a>
                    </h1>
                </div>
                <label for="drop" class="toggle"><span class="fa fa-bars"></span></label>
                <input type="checkbox" id="drop" />
                <ul class="menu ml-auto mt-1">
                    <li class=""><a href="index.html">首頁</a></li>
                    <li class=""><a href="booking.html">AI行程規劃</a></li>
                    <li class="active"><a href="tickets.html">票券</a></li>
                    <li class=""><a href="itinerary_search.html?index=1">套裝行程</a></li>
                    <li class=""><a href="articles.html">旅遊文章</a></li>
                    <li class="booking"><a href="" id="login">登入/註冊</a></li>
                    <li class="">
                        <a href="shopping_car.html"><img src="./images/shoppingCar.svg" alt="" style="width: 2em" /></a>
                    </li>
                </ul>
            </nav>
            <!-- //nav -->

            <div class="member">
                <ul class="member_list">
                    <li class="member_li"><a href="login.html"><i class="fa-regular fa-user"></i>管理帳戶</a>
                    </li>
                    <li class="member_li" id="order_li"><a href=""><i class="fa-solid fa-plane"></i>訂單管理</a>
                        <ul class="order_list">
                            <li class="order_content"><a href="tickets_order.html"><i
                                        class="fa-solid fa-ticket"></i>票券訂單</a></li>
                            <li class="order_content"><a href="group_order.html"><i
                                        class="fa-solid fa-suitcase"></i>旅遊團訂單</a>
                            </li>
                        </ul>
                    </li>
                    <li class="member_li"><a href="my_favorite.html"><i class="fa-regular fa-heart"></i>我的收藏</a></li>
                    <li class="member_li"><a href="article_mylist.html"><i class="fa-solid fa-copy"></i>我的文章</a>
                    </li>
                    <li class="member_li"><a href="membership_rating.html"><i class="fa-regular fa-gem"></i>會員分級</a>
                    </li>
                    <li class="member_li"><a href="question_form.html"><i class="fa-regular fa-comment"></i>提出問題</a>
                    </li>
                    <li class="member_li"><a href="read_question_list.html"><i
                                class="fa-regular fa-comment"></i>查看問題</a>
                    </li>
                    <li class="member_li" id="logout_li"><a href="index.html"><i
                                class="fa-solid fa-right-from-bracket"></i>登出</a></li>
                </ul>
            </div>
        </div>
    </header>
    <!-- //header -->
    <!-- 登入 -->

    <div id="login-container">
        <!---container--->

        <div class="main-box login">
            <h3>登入</h3>
            <form action="">
                <div class="input-box">
                    <i class="fas fa-envelope icon2"></i> <input type="email" name="email" id="email" required /> <label
                        for="">信箱</label>
                </div>
                <div class="input-box">
                    <i class="fas fa-lock icon2"></i> <input type="password" name="password" id="password" required />
                    <label for="">密碼</label>
                </div>
                <div class="check">
                    <label><input type="checkbox" />記住我</label> <a href="#" id="forgetPwd">忘記密碼</a>
                </div>
                <button type="submit" class="main-btn">Login</button>
                <div class="register">
                    <p>
                        如果沒有帳號?<a href="#" class="register-link">點擊註冊</a>
                    </p>
                </div>
            </form>
        </div>

        <div class="main-box register">
            <h3>註冊</h3>
            <form action="">
                <div class="input-box">
                    <i class="fas fa-user icon2"></i> <input type="input" name="account" id="register_account"
                        required /> <label for="">使用者名稱</label>
                </div>
                <div class="input-box">
                    <i class="fas fa-envelope icon2"></i> <input type="email" name="email" id="register_email"
                        required /> <label for="">信箱</label>
                </div>
                <div class="input-box">
                    <i class="fas fa-lock icon2"></i> <input type="password" name="password" id="register_password"
                        required /> <label for="">密碼</label>
                </div>
                <div class="check">
                    <label><input type="checkbox" />我同意所有條款</label>
                </div>
                <button type="submit" class="main-btn">註冊</button>
                <div class="register">
                    <p>
                        已經有帳號?<a href="#" class="login-link">點擊登入</a>
                    </p>
                </div>
            </form>
        </div>

        <span class="close-icon">
            <div class="fas fa-times"></div>
        </span>
    </div>
    <!-- 登入  -->

    <!-- banner -->
    <section class="banner_inner" id="home">
        <div class="banner_inner_overlay"></div>
    </section>
    <!-- //banner -->
    <!-- ===== 導覽列 ===== -->

    <!-- ===== 開始 ===== -->

    <form id="tripOrder">
        <div class="container mt-5 shadow-none p-3 mb-5 bg-light rounded">
            <!-- ====== 訂購資訊 ====== -->
            <div class="row">
                <div class="row shadow-lg p-3 mb-5 bg-body rounded mt-5">
                    <h3 class="pt-2"> 訂購資訊 </h3>
                    <hr>
                    <div class="col-10">
                        <ul class="list-group list-group-flush">
                            <li class="list-group-item basic" id="groupDate">旅遊團日期: </li>
                            <li class="list-group-item basic" id="tripName">方案: </li>
                            <li class="list-group-item basic" id="qtyChild">兒童: </li>
                            <li class="list-group-item basic" id="qtyAdult">大人: </li>
                            <li class="list-group-item basic" id="totalAmount">總金額: </li>
                        </ul>
                    </div>

                </div>

                <!-- ====== 訂購人資料 ====== -->
                <span id="datatest" value="20202020202">
                    <span id="datatestchild" value=""></span>
                </span>>
                <div class="row shadow-lg p-3 mb-5 bg-body rounded">
                    <div class="row">
                        <h3>訂購人資料</h3>
                    </div>

                    <hr>
                    <div class="col-auto">
                        <label for="memberName" class="col-form-label">姓名</label>
                        <input disabled type="text" id="memberName" class="form-control"
                            aria-describedby="passwordHelpInline">


                    </div>
                    <div class="col-auto">
                        <label for="memberPhone" class="col-form-label">電話</label>
                        <input disabled type="text" id="memberPhone" class="form-control"
                            aria-describedby="passwordHelpInline">

                    </div>
                    <div class="col-auto">
                        <label for="memberEmail" class="col-form-label">郵件</label>
                        <input disabled type="text" id="memberEmail" class="form-control"
                            aria-describedby="passwordHelpInline">

                    </div>

                    <!-- ====== 付款方式 ====== -->
                    <div class="row mt-5">
                        <h3>付款方式</h3>
                    </div>
                    <hr>

                    <div class="row">
                        <div class="col-auto">

                            <div class="form-check">
                                <label for="payType" class="col-form-label">信用卡/簽帳金融卡</label>
                                <input type="text" id="payType" class="form-control"
                                    aria-describedby="passwordHelpInline">
                            </div>


                        </div>
                        <div class="col-auto">
                            <label for="cardValid" class="col-form-label">有效日期</label>
                            <input type="text" id="cardValid" class="form-control"
                                aria-describedby="passwordHelpInline">

                        </div>
                        <div class="col-1">
                            <label for="scv" class="col-form-label">末三碼</label>
                            <input type="text" id="scv" class="form-control" aria-describedby="passwordHelpInline">
                        </div>

                        <br>
                        <br>
                        <h6> *卡號用於保留資格 </h6>
                    </div>


                    <!-- ====== 旅客名單 ======  -->
                    <div class="row shadow-lg p-3 mb-5 bg-body rounded mt-5 justify-content-center">


                        <!-- ====== Traveler List ======  -->
                        <h3 class="pt-2"> 旅客名單 </h3>
                        <hr>

                        <!-- ====== Traveler Detail ======  -->

                        <div id="travelerList">
                            <!-- dynamic travelerList -->

                        </div>

                        <!-- ====== //Traveler Detail ======  -->


                        <!-- ====== 特殊需求 ======  -->
                        <div class="row">
                            <div class="col-6">
                                <label for="remarks" class="col-form-label">特殊需求: </label>
                                <div class="form-group">
                                    <textarea style="height: 200px" class="form-control" id="remarks"
                                        rows="3"></textarea>
                                </div>
                            </div>

                        </div>
                        <!-- ====== //特殊需求 ======  -->

                    </div>
                </div>

                <div class="row justify-content-end">
                    <div class="col-2">
                        <button type="button" id="order_confirmed" class="btn btn-primary btn-lg">確認預定</button>

                    </div>
                </div>
                <!-- ===== 結束 ===== -->
            </div>
        </div>
    </form>



    <!-- ========== lib  ========== -->

    <!-- boostrap -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
        crossorigin="anonymous"></script>
    <!-- 載入jQuery -->
    <script type="text/javascript" src="//code.jquery.com/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script>

    <!-- MDB -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.3.1/mdb.min.js"></script>
    <!-- 載入 slick -->
    <script type="text/javascript" src="slick/slick.min.js"></script>

    <!-- 載入 Full Calendar -->
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.7/index.global.min.js"></script>

    <!-- 載入 sweetalert -->
    <script src="./js/sweetalert.js"></script>


    <!-- ========== Java Script  ========== -->
    <script>
        // ===== 確認彈窗 =====
        $(document).ready(function () {

            // ====== 取消 form 表單預設行為 ======
            $('#tripOrder').submit(function (event) {
                event.preventDefault();
            });

            // ====== 取得 member Id ======
            function getMemberId() {

                const testLogIn = JSON.parse(sessionStorage.getItem('test-login'));
                if (!testLogIn || !testLogIn.memberId) {
                    return 0;
                }
                return testLogIn.memberId;
            }

            const memberId = getMemberId();

            // ====== 渲染會員資訊 ======

            if (memberId !== 0) {
                $.getJSON(`/getMemberInfor?memberId=${memberId}`, function (response) {
                    $('#memberName').val(`${response.memberFullName}`);
                    console.log(response.memberName);
                    $('#memberPhone').val(`${response.memberPhone}`);
                    $('#memberEmail').val(`${response.memberEmail}`);

                });

            }

            // ====== //渲染會員資訊 ======

            function getTourGroupId() {

                const tourGroupIdGet = JSON.parse(sessionStorage.getItem('tourGroupId'));
                if (tourGroupIdGet != null) {
                    return tourGroupIdGet;

                } else {
                    return 0;
                }
            }

            const tourGroupIdGet = getTourGroupId();

            // ====== 訂購資訊區塊 ======
            let qtyChild = parseInt(sessionStorage.getItem('qtyChild'));

            if (qtyChild > 0) {
                $('#qtyChild').text(`兒童: ${qtyChild} 人`);
            } else {
                $('#qtyChild').text(`小孩: 0 人`);
            }

            let qtyAdult = parseInt(sessionStorage.getItem('qtyAdult'));
            if (qtyAdult > 0) {
                $('#qtyAdult').text(`大人: ${qtyAdult} 人`);
            } else {
                $('#qtyAdult').text(`大人: 0 人`);
            }

            let totalQty = (qtyChild + qtyAdult);
            // ====== 根據旅客人數增加欄位 ======
            let html = "";
            for (let i = 1; i <= totalQty; i++) {
                html += `
                       <div id="traveler${i}" >
                               <div class="row justify-content-end"">
                                   <div class="col-9">
                                       <h5 class="pt-2"> 旅客 ${i} </h5>
                                   </div>
                                   <div class="col-3">
                                   </div>
                               </div>

                               <div class="row">
                                    <!-- name -->
                                    <div class="col-2">
                                        <label for="travelerName${i}" class="col-form-label">姓名</label>
                                        <input type="text" id="travelerName${i}" value="" class="form-control">
                                    </div>

                                    <!-- age -->
                                    <div class="col-1">
                                        <label for="travelerAge${i}" class="col-form-label">年齡</label>
                                        <input type="text" id="travelerAge${i}" value="" class="form-control"
                                               aria-describedby="passwordHelpInline">
                                    </div>

                                    <!-- gender -->
                                    <div class="col-2">
                                        <label for="travelerGender${i}" class="col-form-label">性別</label>
                                        <br>
                                        <select id="travelerGender${i}" class="form-select" aria-label="Default select example">
                                            <option value="0" selected>女</option>
                                            <option value="1">男</option>
                                        </select>
                                    </div>
                                </div>

                               <div class="row">
                                   <!-- phone -->
                                   <div class="col-2">
                                       <label for="travelerPhone${i}" class="col-form-label">電話</label>
                                       <input type="text" id="travelerPhone${i}" class="form-control"
                                              aria-describedby="passwordHelpInline">

                                   </div>
                                   <!-- email -->
                                   <div class="col-auto">
                                       <label for="travelerEmail${i}" class="col-form-label">郵件</label>
                                       <input type="email" id="travelerEmail${i}" class="form-control"
                                              aria-describedby="passwordHelpInline">

                                   </div>
                                   <hr class="mt-5">
                               </div>
                    </div>`;

            }

            $('#travelerList').prepend(html);


            // ====== 信用卡驗證區 ======
            $('#payType').on('change', function () {
                // const pattern = /^(?:3[47]\d{13}|(?:4\d|5[1-5]|6(?:011|5[0-9]{2}))\d{14}|(?:2131|1800|35\d{3})\d{11})$/;
                if (isNaN($('#payType').val()) === true) {
                    $('#payType').val('');
                    Swal.fire('卡號輸入錯誤，請輸入數字');

                } /*else if (pattern.test($('#payType').val()) === false) {
                    $('#payType').val('');
                    Swal.fire('卡號輸入錯誤，請輸入正整數');

                }*/ else if ($('#payType').val().trim() === '') {
                    $('#payType').val('');
                    Swal.fire('請輸入卡號');

                } else if (parseInt($('#payType').val()) < 0) {
                    $('#payType').val('');
                    Swal.fire('卡號不能為負數');

                }
            });

            $('#cardValid').on('change', function () {
                let pattern = /^(0[1-9]|1[0-2])\/(\d{2})$/;
                if (pattern.test($('#cardValid').val()) === false) {
                    $('#cardValid').val('');
                    Swal.fire('日期輸入錯誤，請輸入正整數');

                } else if ($('#cardValid').val().trim() === '') {
                    $('#cardValid').val('');
                    Swal.fire('請輸入內容');

                } else if (parseInt($('#cardValid').val()) < 0) {
                    $('#cardValid').val('');
                    Swal.fire('日期不能為負數');

                }

            });

            $('#scv').on('change', function () {
                let pattern = /^\d{3}$/;
                if (isNaN($('#scv').val()) === true) {
                    $('#scv').val('');
                    Swal.fire('驗證碼輸入錯誤，請輸入數字');

                } else if (pattern.test($('#scv').val()) === false) {
                    $('#scv').val('');
                    Swal.fire('驗證碼輸入錯誤，請輸入正整數');

                } else if ($('#scv').val().trim() === '') {
                    $('#scv').val('');
                    Swal.fire('請輸入內容');

                } else if (parseInt($('#scv').val()) < 0) {
                    $('#scv').val('');
                    Swal.fire('驗證碼不能為負數');

                }

            });


            // ====== 輸入驗證區 ======

            for (let i = 1; i <= totalQty; i++) {

                let travelerName = $('#travelerName' + i);
                let travelerAge = $('#travelerAge' + i);
                let travelerPhone = $('#travelerPhone' + i);
                let travelerEmail = $('#travelerEmail' + i);


                // 輸入驗證
                // ====== 姓名驗證 ======
                travelerName.on('change', function () {
                    if (isNaN(travelerName.val()) === false) {
                        travelerName.val('');
                        Swal.fire('姓名輸入錯誤，請輸入非數字的名稱');

                    } else if (travelerName.val().trim() === '') {
                        travelerName.val('');
                        Swal.fire('請輸入姓名');

                    }

                });

                // ====== 年齡驗證 ======
                travelerAge.on('change', function () {
                    let pattern = /^[1-9]\d*$/;
                    if (isNaN(travelerAge.val()) === true) {
                        Swal.fire('年齡輸入錯誤，請輸入數字');

                    } else if (pattern.test(travelerAge.val()) === false) {
                        travelerAge.val('');
                        Swal.fire('年齡輸入錯誤，請輸入正整數');

                    } else if (travelerAge.val().trim() === '') {
                        travelerAge.val('');
                        Swal.fire('請輸入內容');

                    } else if (parseInt(travelerAge.val()) < 0) {
                        travelerAge.val('');
                        Swal.fire('年齡不能為負數');

                    } else if (parseInt(travelerAge.val()) > 150) {
                        travelerAge.val('');
                        Swal.fire('年齡過大，不符合旅遊團年齡上限');

                    }

                });

                // ====== 電話驗證 ======
                travelerPhone.on('change', function () {
                    let phoneNumberRegex = /^09\d{8}$/;
                    if (phoneNumberRegex.test(travelerPhone.val()) === false) {
                        travelerPhone.val('');
                        Swal.fire('手機格式不符合，請重新輸入');

                    } else if (isNaN(travelerPhone.val()) === true) {
                        travelerPhone.val('');
                        Swal.fire('手機輸入錯誤，請輸入正整數');

                    } else if (travelerPhone.val().trim() === '') {
                        travelerPhone.val('');
                        Swal.fire('請輸入內容');

                    } else if (parseInt(travelerPhone.val()) < 0) {
                        travelerPhone.val('');
                        Swal.fire('手機號碼不為負數，請重新輸入');

                    }
                });

                // ====== 電子郵件驗證 ======
                travelerEmail.on('change', function () {
                    let pattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                    if (pattern.test(travelerEmail.val()) === false) {
                        travelerEmail.val('');
                        Swal.fire('郵件格式不符合，請重新輸入');

                    } else if (travelerEmail.val().trim() === '') {
                        travelerEmail.val('');
                        Swal.fire('請輸入內容');

                    } else if (parseInt(travelerEmail.val()) < 0) {
                        travelerEmail.val('');
                        Swal.fire('郵件內容不為負數，請重新輸入');

                    }
                });

            }
            // ====== //輸入驗證區 ======


            // ====== 綁定我要預約按鈕，將名單傳送至資料庫 ======
            $('#order_confirmed').on("click", function (event) {
                // ====== collect tourGroupDetail ======
                let tourGroupDetail = [];
                for (let i = 1; i <= totalQty; i++) {

                    let travelerName = $('#travelerName' + i);
                    let travelerAge = $('#travelerAge' + i);
                    let travelerGender = $('#travelerGender' + i).find('option:selected');
                    let travelerPhone = $('#travelerPhone' + i);
                    let travelerEmail = $('#travelerEmail' + i);


                    if (travelerName.val().trim() === '') {
                        Swal.fire('請輸入姓名');
                        return;
                    } else if (travelerAge.val() === '') {
                        Swal.fire('請輸入年齡');
                        return;
                    } else if (travelerGender.val().trim() === '') {
                        Swal.fire('請輸入性別');
                        return;
                    } else if (travelerPhone.val().trim() === '') {
                        Swal.fire('請輸入電話');
                        return;
                    } else if (travelerEmail.val().trim() === '') {
                        Swal.fire('請輸入郵件');
                        return;
                    } else if ($('#payType').val().trim() === '') {
                        Swal.fire('請輸入信用卡號');
                        return;
                    } else if ($('#cardValid').val().trim() === '') {
                        Swal.fire('請輸入有效日期');
                        return;
                    } else if ($('#scv').val().trim() === '') {
                        Swal.fire('請輸入驗證碼');
                        return;
                    }
                    else {
                        let infor = {
                            'tourGroupId': tourGroupIdGet,
                            'travelerName': travelerName.val(),
                            'travelerPhone': travelerPhone.val(),
                            'travelerEmail': travelerEmail.val(),
                            'travelerGender': travelerGender.val(),
                            'travelerAge': travelerAge.val(),
                            'memberId': memberId
                        };
                        tourGroupDetail.push(infor);


                    }


                }

                console.log(tourGroupDetail);
                // ====== //collect tourGroupDetail ======

                // ====== //collect data of all ======
                let data = {
                    "memberId": memberId,
                    "tourGroupId": tourGroupIdGet,
                    "orderStatus": "1",
                    "payType": "credit card",
                    "travelersChildren": qtyChild,
                    "travelersAdult": qtyAdult,
                    "remarks": $('#remarks').val(),
                    'tourGroupDetail': tourGroupDetail
                };

                let jsonData = JSON.stringify(data)
                $.post("/order", jsonData, function (response) {
                    console.log('AJAX request successful');
                })

                // ====== 感謝彈窗 ======
                Swal.fire({
                    title: '感謝您的預定，將會於7個工作天內通知您是否有成團',
                    showClass: {
                        popup: 'animate__animated animate__fadeInDown'
                    },
                    hideClass: {
                        popup: 'animate__animated animate__fadeOutUp'
                    }
                }).then(function (result) {
                    if (result.isConfirmed) {
                        window.location.href = '/front-end/index.html';
                        $('input').val('');


                    }
                });


            })

            // ====== 訂購資訊區塊 ======
            $('#groupDate').html(`旅遊團日期: ${sessionStorage.getItem('formattedStartDate')} 至 ${sessionStorage.getItem('formattedEndDate')}`);
            $('#tripName').text(`方案 : ${sessionStorage.getItem('tripName')}`);
            let tourGroupId = sessionStorage.getItem('tourGroupId');

            $.getJSON(`/getTourGroup?tourGroupId=${tourGroupId}`, function (response) {
                let priceChild = parseInt(response.priceChild);
                let priceAdult = parseInt(response.priceAdult);

                let totalAmount = (priceChild * qtyChild) + (priceAdult * qtyAdult);
                $('#totalAmount').text(`總金額: ${totalAmount} 元`);

            })

        });




    </script>

    <!-- login顯示 -->
    <script src="js/Login.js"></script>
    <!-- login顯示 -->
</body>

</html>